<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HSK Form - Pre-filled URL Generator</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>üöÄ HSK Form - C√°ch D·ªÑ NH·∫§T!</h1>
            <p class="subtitle">T·∫°o link ƒëi·ªÅn s·∫µn - Kh√¥ng c·∫ßn code g√¨ c·∫£!</p>
        </header>

        <div class="content-simple">
            <div class="alert success">
                <strong>‚ú® C√°ch ho·∫°t ƒë·ªông:</strong><br>
                1. Nh·∫≠p th√¥ng tin b√™n d∆∞·ªõi<br>
                2. Click "T·∫°o Link"<br>
                3. M·ªü link ‚Üí Form ƒë√£ ƒëi·ªÅn s·∫µn 90%!<br>
                4. Ch·ªâ c·∫ßn ƒëi·ªÅn c√¢u x√°c th·ª±c v√† Submit
            </div>

            <div class="form-section-simple">
                <h2>üìù Th√¥ng tin c·ªßa b·∫°n</h2>

                <div class="form-group">
                    <label for="fullName">H·ªç v√† t√™n <span class="required">*</span></label>
                    <input type="text" id="fullName" placeholder="VD: NGUYEN VAN A" required>
                    <small>‚ö†Ô∏è Nh·∫≠p IN HOA KH√îNG D·∫§U</small>
                </div>

                <div class="form-group">
                    <label>Lo·∫°i gi·∫•y t·ªù <span class="required">*</span></label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="idType" value="h·ªôchi·∫øu" id="passport">
                            <span>H·ªô chi·∫øu / Êä§ÁÖß</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="idType" value="cmnd-cccd" id="idcard" checked>
                            <span>CMND - CCCD / Ë∫´‰ªΩËØÅ</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="idNumber">S·ªë gi·∫•y t·ªù <span class="required">*</span></label>
                    <input type="text" id="idNumber" placeholder="VD: 001234567890" required>
                </div>

                <div class="form-group">
                    <label>Gi·ªõi t√≠nh <span class="required">*</span></label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="gender" value="nam" id="male" checked>
                            <span>Nam / Áî∑</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="gender" value="n·ªØ" id="female">
                            <span>N·ªØ / Â•≥</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>Qu·ªëc t·ªãch <span class="required">*</span></label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="nationality" value="vietnam" id="vn" checked>
                            <span>Vi·ªát Nam</span>
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="nationality" value="other" id="other">
                            <span>Kh√°c</span>
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="phone">S·ªë ƒëi·ªán tho·∫°i <span class="required">*</span></label>
                    <input type="tel" id="phone" placeholder="VD: 0901234567" required>
                </div>

                <button id="generateUrlBtn" class="generate-btn">
                    üöÄ T·∫°o Link ƒêi·ªÅn S·∫µn
                </button>
            </div>

            <div class="result-section" id="resultSection" style="display: none;">
                <h2>üéâ Link c·ªßa b·∫°n ƒë√¢y!</h2>

                <div class="alert info">
                    <strong>üìã Sao ch√©p link b√™n d∆∞·ªõi:</strong>
                </div>

                <div class="url-container">
                    <input type="text" id="generatedUrl" readonly>
                    <button id="copyUrlBtn" class="copy-btn">üìã Copy</button>
                </div>

                <button id="openUrlBtn" class="open-btn">
                    üåê M·ªü Form Ngay
                </button>

                <div class="alert warning">
                    <strong>‚ö†Ô∏è L∆∞u √Ω khi m·ªü link:</strong><br>
                    - Trang 1 (Email): ƒê√£ t·ª± ƒë·ªông check ‚úÖ<br>
                    - Trang 2-11: ƒê√£ ƒëi·ªÅn s·∫µn t·∫•t c·∫£ ‚úÖ<br>
                    - Trang 12: B·∫°n c·∫ßn t·ª± ƒëi·ªÅn c√¢u x√°c th·ª±c (n√≥ thay ƒë·ªïi m·ªói l·∫ßn)<br>
                    - Ki·ªÉm tra l·∫°i th√¥ng tin v√† nh·∫•n Submit!
                </div>
            </div>
        </div>
    </div>

    <script>
        // Field IDs t·ª´ Google Form
        const FIELD_IDS = {
            examLevel: '2060993153',
            fullName: '518285016',
            idType: '1288357414',
            idNumber: '2112372857',
            gender: '1936453959',
            nationality: '1873758553',
            phone: '1774947177',
            commitment: '1413893084'
        };

        const BASE_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSdo9nic0WZgIU2bEaxZnXxMLCttvhLNpPzqPh8p_ZfORk6TLw/viewform';

        // Auto uppercase
        document.getElementById('fullName').addEventListener('input', function (e) {
            this.value = this.value.toUpperCase();
        });

        // Generate URL
        document.getElementById('generateUrlBtn').addEventListener('click', function () {
            const fullName = document.getElementById('fullName').value.trim();
            const idType = document.querySelector('input[name="idType"]:checked').value;
            const idNumber = document.getElementById('idNumber').value.trim();
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const nationality = document.querySelector('input[name="nationality"]:checked').value;
            const phone = document.getElementById('phone').value.trim();

            // Validate
            if (!fullName || !idNumber || !phone) {
                alert('‚ö†Ô∏è Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß c√°c tr∆∞·ªùng b·∫Øt bu·ªôc (*)');
                return;
            }

            if (fullName !== fullName.toUpperCase()) {
                alert('‚ö†Ô∏è H·ªç t√™n ph·∫£i vi·∫øt IN HOA');
                return;
            }

            // Build URL
            const params = new URLSearchParams();

            // Exam level (always M√î PH·ªéNG)
            params.append(`entry.${FIELD_IDS.examLevel}`, 'M√î PH·ªéNG');

            // Full name
            params.append(`entry.${FIELD_IDS.fullName}`, fullName);

            // ID type and number
            params.append(`entry.${FIELD_IDS.idType}`, idType);
            params.append(`entry.${FIELD_IDS.idNumber}`, idNumber);

            // Gender
            params.append(`entry.${FIELD_IDS.gender}`, gender);

            // Nationality
            params.append(`entry.${FIELD_IDS.nationality}`, nationality);

            // Phone
            params.append(`entry.${FIELD_IDS.phone}`, phone);

            // Commitment
            params.append(`entry.${FIELD_IDS.commitment}`, 'T√¥i ƒë·ªìng √Ω v·ªõi c√°c ƒëi·ªÅu ki·ªán tr√™n / ÊàëÂ∑≤ÈòÖËØªÂπ∂ÂêåÊÑè‰ª•‰∏äÊù°‰ª∂„ÄÇ');

            const finalUrl = `${BASE_URL}?${params.toString()}`;

            // Show result
            document.getElementById('generatedUrl').value = finalUrl;
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });

            // Store URL for open button
            window.generatedFormUrl = finalUrl;

            // Visual feedback
            this.textContent = '‚úÖ ƒê√£ t·∫°o link!';
            this.style.background = 'linear-gradient(135deg, #10b981 0%, #059669 100%)';
            setTimeout(() => {
                this.textContent = 'üöÄ T·∫°o Link ƒêi·ªÅn S·∫µn';
                this.style.background = '';
            }, 2000);
        });

        // Copy URL
        document.getElementById('copyUrlBtn').addEventListener('click', async function () {
            const urlInput = document.getElementById('generatedUrl');
            urlInput.select();

            try {
                await navigator.clipboard.writeText(urlInput.value);
                this.textContent = '‚úÖ ƒê√£ copy!';
                this.classList.add('copied');
                setTimeout(() => {
                    this.textContent = 'üìã Copy';
                    this.classList.remove('copied');
                }, 2000);
            } catch (err) {
                alert('L·ªói khi copy. Vui l√≤ng copy th·ªß c√¥ng.');
            }
        });

        // Open URL
        document.getElementById('openUrlBtn').addEventListener('click', function () {
            if (window.generatedFormUrl) {
                window.open(window.generatedFormUrl, '_blank');
            }
        });
    </script>
</body>

</html>